<app-client-nav-bar></app-client-nav-bar>
<div class="card-container">
  <div class="card-header">
    RÉSULTATS RÉCENTS (accessible à NYSTAR LANGLOIS)
  </div>
  <div class="demande-client-table">
    <div class="content-container">
      <div class="button-container">
        <button class="table-button">Afficher/masquer les colonnes</button>
      </div>
    </div>
    <div class="table-responsive"> 
      <table>
        <thead>
          <tr>
            <th>Numéro d'échantillon</th>
            <th>Nom de l'échantillon</th>
            <th>Retour</th>
            <th>Disposer</th>
            <th>Type d'échantillon</th>
            <th>Lieu de prélèvement</th>
            <th>Adresse de retour</th>
            <th>Priorité</th>
            <th>Date de début de prélèvement</th>
            <th>Détails</th>
          </tr>
          <tr> <!-- Filters Row -->
            <th><input type="text" placeholder="Filter Numéro d'échantillon"></th>
            <th><input type="text" placeholder="Filter Nom de l'échantillon"></th>
            <th><input type="text" placeholder="Filter Retour"></th>
            <th><input type="text" placeholder="Filter Disposer"></th>
            <th><input type="text" placeholder="Filter Type d'échantillon"></th>
            <th><input type="text" placeholder="Filter Lieu de prélèvement"></th>
            <th><input type="text" placeholder="Filter Adresse de retour"></th>
            <th><input type="text" placeholder="Filter Priorité"></th>
            <th><input type="text" placeholder="Filter Date de début de prélèvement"></th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let echantillon of echantillons; let i = index">
            <tr>
              <td>{{ echantillon.echantillonId }}</td>
              <td>{{ echantillon.nomEchantillon }}</td>
              <td>{{ echantillon.returns }}</td>
              <td>{{ echantillon.disposes }}</td>
              <td>{{ echantillon.typeEchantillon }}</td>
              <td>{{ echantillon.lieuPrelevement }}</td>
              <td>{{ echantillon.addressRetourner }}</td>
              <td>{{ echantillon.priorite }}</td>
              <td>{{ echantillon.dateFinPrelevement }}</td>
              <td>
                <button (click)="toggleDetail(echantillon)">Details</button>
              </td>
            </tr>
            <tr *ngIf="echantillon.showDetails">
              <td colspan="10">
                <table>
                  <h4>List de Parameters</h4>
                 <tr colspan="10">
                  <th>Name</th>
                  <th>RDL</th>
                  <th>Unit</th>
                 </tr> 
                  <tr *ngFor="let param of echantillon.parameters">
                    <td>{{ param.name }}</td>
                    <td>{{ param.rdl }} </td>
                    <td>{{ param.unit }}</td>
                  </tr>
                </table>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
