<app-client-nav-bar></app-client-nav-bar>
<div class="form-container" *ngIf="form">
  <button type="button" (click)="navigateToListEchantillon()" class="btn btn-primary">Ajouter un Échantillon</button>
  <div *ngFor="let echantillon of echantillons; let i = index" [formGroup]="form.get('echantillon'+i)" class="card">
    <div class="card-header">
      <h2>ÉCHANTILLON {{ echantillon.id }}</h2>
      <div class="card-actions">
        <button type="button" (click)="update(echantillon.id)" class="btn btn-success">Update le paramètre</button>
        <button type="button" (click)="delete(i)" class="btn btn-danger">Supprimer</button>
      </div>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label for="gabarit{{ i }}">Gabarit:</label>
        <select formControlName="gabarit" class="form-control" id="gabarit{{ i }}">
          <option *ngFor="let gabarit of gabarits" [value]="gabarit.value">{{ gabarit.display }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="typeEchantillon{{ i }}">Type d'échantillon:</label>
        <select formControlName="typeEchantillon" class="form-control" id="typeEchantillon{{ i }}">
          <option *ngFor="let type of typesEchantillon" [value]="type.value">{{ type.display }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="nomEchantillon{{ i }}">Nom de l'échantillon:</label>
        <input type="text" formControlName="nomEchantillon" class="form-control" id="nomEchantillon{{ i }}">
      </div>
      <div class="form-group">
        <label for="dateFinPrelevement{{ i }}">Date de fin de prélèvement:</label>
        <input type="date" formControlName="dateFinPrelevement" class="form-control" id="dateFinPrelevement{{ i }}">
      </div>
      <div class="form-group">
        <label for="heureFinPrelevement{{ i }}">Heure de fin de prélèvement:</label>
        <input type="time" formControlName="heureFinPrelevement" class="form-control" id="heureFinPrelevement{{ i }}">
      </div>
      <div class="form-group">
        <label for="commentairesInternes{{ i }}">Commentaires internes de l'échantillon:</label>
        <textarea formControlName="commentairesInternes" class="form-control" id="commentairesInternes{{ i }}"></textarea>
      </div>
    </div>
  </div>
</div>
<div *ngIf="loading" class="loading-indicator">
  Loading...
</div>
